<!DOCTYPE html>
<html>
  <script>
var romans = ["I","IV","V","VI","VII","VIII","IX","X","XL","L","XC","C","CD","D","CM","M"]
var numbers = [1,4,5,6,7,8,9,10,40,50,90,100,400,500,900,1000]


//Given a roman numeral, convert it to an integer.
/**
 * @param {string} s
 * @return {number}
 */
var romanToInt = function(s,romans,numbers) {
    if (s.length == 0)
        return 0
    var current = 0
    let i = 15
    while (romans[i] != s.substring(0,romans[i].length)){
        i--
    }
    s = s.substring(romans[i].length,s.length)
    return (numbers[i] + romanToInt(s,romans,numbers))
};

//Recursive Function which returns an integer's string roman numeral value
// @param {Integer} num
// @return {String}
// @Requires 1 < num < 4000
//@Params: 
// - num: the integer
// - array of roman numerals 1-10,40,50,90,100,400,500,900,1000
// - array of numbers same as above

function intToRoman(num,romans,numbers){
    if (num == 0){
        return ""
    }
    let i = 15
    while (num - numbers[i] < 0){
        i--
    }
    num = num - numbers[i]
    current = romans[i]
    return (current + intToRoman(num,romans,numbers))
}
//given numbers and romans above, get the input, make output or number or roman numerals based on input, place inside demo tag.
function detectTypeAndConvert(romans,numbers) {
    var inp = document.getElementById("inputText").value;
    var out = ""
    if (Number.isInteger(inp)){
        out = intToRoman(parseInt(inp),romans,numbers)
    }
    else{
      out = romanToInt(inp.toUpperCase(),romans,numbers)
    }
    //else{
    //  out = "Please enter a number or roman numeral between 1 and 4000."
    //}
    document.getElementById("demo").innerHTML = out;
}

  </script>
  <body>
    <h3>Roman Numeral Calculator</h3>
    <input type="text" id="inputText" value="">
    <p>Click the "Convert" button to covert from int to roman numeral, or roman numeral to int.</p>
    <button onclick="detectTypeAndConvert()">Convert</button>
    <p id="demo"></p>
  </body>
</html>
